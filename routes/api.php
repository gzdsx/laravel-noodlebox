<?php/*|--------------------------------------------------------------------------| API Routes|--------------------------------------------------------------------------|| Here is where you can register API routes for your application. These| routes are loaded by the RouteServiceProvider within a group which| is assigned the "api" middleware group. Enjoy building your API!|*///use Illuminate\Support\Facades\Route;Route::namespace('Api')->group(function () {    //语言包    Route::namespace('Lang')->prefix('langs')->group(function () {        Route::get('locale', 'LangController@locale');        Route::get('messages/{locale?}', 'LangController@messages');    });    //认证    Route::namespace('Auth')->prefix('auth')->group(function () {        Route::post('register', 'RegisterController@register');        Route::post('numberauth', 'NumberController@index');        Route::post('login-with-apple', 'AppleController@index');        Route::post('adminlogin', 'AdminLoginController@login');        Route::post('phone', 'PhoneController@login');        Route::get('userinfo', 'UserController@info')->middleware('auth:api');    });    //用户管理    Route::namespace('User')->middleware('auth:api')->group(function () {        Route::get('users/addresses', 'AddressController@myaddress');        Route::get('users/addresses/{id}', 'AddressController@show');        Route::post('users/addresses', 'AddressController@store');        Route::put('users/addresses/{id}', 'AddressController@store');        Route::delete('users/addresses/{id}', 'AddressController@destroy');    });    //通用部分    Route::namespace('Basic')->group(function () {        //素材管理        Route::get('materials/types', 'MaterialController@types');        Route::apiResource('materials', 'MaterialController')->middleware('auth:api');        //链接管理        Route::apiResource('links', 'LinkController');        //区域管理        Route::apiResource('districts', 'DistrcitController');        //内容片段        Route::apiResource('snippets', 'SnippetController');        //快捷方式        Route::apiResource('shortcuts', 'ShortcutController');        //快递管理        Route::apiResource('expresses', 'ExpressController');        //客服        Route::apiResource('kefus', 'KefuController');        //广告管理        Route::apiResource('ads', 'AdController');        //模块管理        Route::apiResource('blocks', 'BlockController');        //菜单管理        Route::get('menus', 'MenuController@index');        Route::get('menus/{id}', 'MenuController@show');        //优惠券        Route::apiResource('coupons', 'CouponController');        Route::apiResource('regions', 'RegionController');        Route::post('captcha/sms', 'CaptchaController@sendSms');        Route::post('captcha/email', 'CaptchaController@email');        Route::apiResource('feedbacks', 'FeedbackController');    });    //页面    Route::namespace('Page')->group(function () {        Route::apiResource('pages', 'PageController');    });    //分类    Route::namespace('Category')->group(function () {        Route::apiResource('categories', 'CategoryController')->only(['index', 'show']);        Route::post('categories/{id}/increase', 'CategoryController@increase')->middleware('auth:api');        Route::post('categories/{id}/decrease', 'CategoryController@decrease')->middleware('auth:api');    });    //文章管理    Route::namespace('Post')->group(function () {        Route::apiResource('posts', 'PostController')->only(['index', 'show']);        Route::get('posts/formats', 'PostController@formats');    });    //微信管理    Route::namespace('Wechat')->middleware('auth:api')->prefix('wechat')->group(function () {        Route::apiResource('menus', 'MenuController');        Route::get('menu/types', 'MenuController@types');        Route::post('menu/apply', 'MenuController@apply');        Route::apiResource('materials', 'MaterialController');        Route::get('materials/image', 'MaterialController@image');    });    //电子商务    Route::namespace('Ecommerce')->group(function () {        //商品管理        Route::apiResource('products', 'ProductController');        Route::post('products/{id}/color', 'ProductController@updateColor')->middleware('auth:api');        //店铺管理        Route::apiResource('shops', 'ShopController');        Route::apiResource('freight-templates', 'FreightTemplateController');        Route::get('shipping-zones', 'ShippingZoneController@index');        Route::get('shipping-zones/{id}', 'ShippingZoneController@show');        //购物车        Route::apiResource('carts', 'CartController')->middleware('auth:api');        //订单        Route::apiResource('orders', 'OrderController')->middleware('auth:api');        Route::post('orders/{orderId}/capture', 'OrderController@capture')->middleware('auth:api');        Route::post('orders/{orderId}/purchase', 'OrderController@purchase')->middleware('auth:api');        Route::post('points/purchase', 'PointController@purchase')->middleware('auth:api');        Route::get('checkout/options', 'CheckoutController@options')->middleware('auth:api');        Route::get('checkout/settings', 'CheckoutController@getSettings')->middleware('auth:api');        Route::post('checkout/use-points', 'CheckoutController@usePoints')->middleware('auth:api');        Route::post('checkout/order', 'CheckoutController@order')->middleware('auth:api');    });    Route::namespace('Payment')->prefix('payment')->group(function () {        Route::post('paypal/order', 'PaypalController@createOrder')->middleware('auth:api');    });    Route::namespace('My')->prefix('my')->middleware('auth:api')->group(function () {        Route::get('/points', 'PointController@index');        Route::get('/points/transactions', 'PointTransactionController@index');        Route::get('/address', 'AddressController@index');        Route::post('/address', 'AddressController@store');        Route::post('phones/check', 'PhoneController@check');        Route::post('phones/verify', 'PhoneController@verify');        Route::get('notifications', 'NotificationController@index');        Route::apiResource('features', 'FeatureController');    });    Route::namespace('Lottery')->prefix('lottery')->group(function () {        Route::get('prizes', 'PrizeController@index');        Route::get('prizes/{id}', 'PrizeController@show');        Route::get('settings', 'LotteryController@settings');        Route::get('draw', 'LotteryController@draw')->middleware('auth:api');    });    Route::namespace('Push')->prefix('push')->group(function () {        Route::post('jpush/register', 'JPushController@register');    });    Route::get('app/getversion', function () {        return json_success('1.1.0');    });});